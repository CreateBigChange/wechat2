webpackJsonp([2,0],{0:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}n(207);var s=n(125),a=i(s),o=n(449),r=i(o);n(440);var c=n(454),l=i(c),u=n(448),d=i(u),f=n(200),p=i(f),m=n(126),h=i(m);n(441),a.default.use(r.default),d.default.attach(document.body),a.default.prototype.http=h.default,new a.default({el:"#app",router:p.default,render:function(t){return t(l.default)}})},51:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function s(t){return null!==t&&"object"===("undefined"==typeof t?"undefined":(0,m.default)(t))}function a(t){if(!t)return"";var e=[].slice.call(t);return e.forEach(function(t,n){n>2&&n<e.length-4&&(e[n]="*")}),e.join("")}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/\s/g.test(t)?0:/^\d+$/.test(t)?1:new RegExp("^"+t[0]+"+$").test(t)?2:/[\u4E00-\u9FA5]/.test(t)?3:4}function r(){var t=window.location.search,e=/[?&][^?&]+=[^?&]+/g,n=t.match(e),i={};return n&&n.forEach(function(t){var e=t.substring(1).split("="),n=decodeURIComponent(e[0]),s=decodeURIComponent(e[1]);i[n]=s}),i}function c(t,e){e=e!==!1;var n="";if(s(t))for(var i in t){var a=void 0!==t[i]?t[i]:"";n+="&"+i+"="+(e?encodeURIComponent(a):a)}return n?n.substring(1):""}function l(t,e,n){t+=(t.indexOf("?")>-1?"&":"?")+c(e),g.default.util.nextTick(function(){return n?void(window.location.href=t):void window.location.replace(t)})}function u(){return(new Date).valueOf()}function d(t){var e=/iPad|iPhone|iPod/i.test(navigator.userAgent);e?setTimeout(function(){document.title=t;var e=document.createElement("iframe");e.style.display="none",e.src="/favicon.ico",document.body.appendChild(e),e.addEventListener("load",function(){setTimeout(function(){e.remove()},0)})},0):document.title=t}function f(){window.onpageshow=function(t){t.persisted&&window.location.reload(!0)}}Object.defineProperty(e,"__esModule",{value:!0});var p=n(216),m=i(p);e.isObject=s,e.transferPhoneNum=a,e.passwordIsIllegal=o,e.urlParse=r,e.urlParams=c,e.jump=l,e.nowTime=u,e.iframeLoad=d,e.pageReload=f;var h=n(125),g=i(h)},85:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(208),a=i(s),o=n(213),r=i(o),c=n(214),l=i(c),u=n(126),d=i(u),f=n(450),p=i(f),m=!1,h=0,g=200,v=m?"http://passport.rdtest.didichuxing.com":"//epassport.diditaxi.com.cn",w=function(){function t(){(0,r.default)(this,t)}return(0,l.default)(t,[{key:"passport",value:function(t,e,n){return d.default.post(""+v+t,p.default.stringify({q:(0,a.default)(e)})).then(function(t){var e=t.data,i=t.status;e.errno===h&&i===g?n&&n(null,e):n&&n(!0,e)}).catch(function(t){n&&n(!0,t)})}},{key:"userInfo",value:function(t,e,n){return d.default.post(""+v+t,p.default.stringify(e)).then(function(t){var e=t.data,i=t.status;e.errno===h&&i===g?n&&n(null,e):n&&n(!0,e)}).catch(function(t){return n&&n(!0,t)})}}]),t}(),_=new w;e.default=_},86:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function s(){(0,d.loadScript)(m).then(function(){g=!0,a(null)}).catch(function(t){a(t)})}function a(t){h.forEach(function(e){e(t,window.login)})}function o(t){g?t(null,window.login):h.push(t)}function r(){return new u.default(function(t,e){var n=(0,f.urlParse)();o(function(i,s){i?e(i):(s.setConfig({appid:"777777777",openid:n.openid,channel:n.channel,phone:n.phone}),s.login(function(e,n){var i={ticket:e,cell:n};t(i)},function(t,n){e({type:t,msg:n})}))})})}function c(){return new u.default(function(t,e){var n=(0,f.urlParse)();o(function(i,s){i?e(i):(s.setConfig({appid:"777777777",openid:n.openid,channel:n.channel,phone:n.phone}),s.isLogin(function(n,i){n&&(i.login?t(i):e(!1))}))})})}Object.defineProperty(e,"__esModule",{value:!0});var l=n(134),u=i(l);e.initLogin=s,e.loginReady=o,e.commonLogin=r,e.isLogin=c;var d=n(199),f=n(51),p=!1,m=p?"//passport.rdtest.didichuxing.com/static/login/0.3.13/login.test.js":"//webapp.didistatic.com/static/webapp/shield/z/login/login/0.3.13/login.min.js",h=[],g=!1;s()},132:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={WECHAT:1200,ALIPAY:1300,QQ:1234}},198:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=navigator.userAgent,i=(e.isWechat=/MicroMessenger/i.test(n),n.match(/AlipayClient\/([\d.]+)/i)),s=(e.isAlipay=!!i,e.alipayVersion=i&&i[1],e.isMqq=/QQ\/([\d.]+)/i.test(n),e.isHttps="https:"===window.location.protocol,n.match(/Android ([\d.]+)/i));e.isBadAndroid=s&&s[1]<"4.4",e.isAndroid=/Android/i.test(n),e.isIOS=/iphone|ipad|ipod|ios/i.test(n),e.isDidiSDK=/didi\.sdk/i.test(n)},199:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function s(t){function e(){return new o.default(function(e,n){var i=document.createElement("script");i.type="text/javascript",i.async="async",i.onload=i.onreadystatechange=function(){this.readyState&&!/^(loaded|complete)$/.test(this.readyState)||(e(),i.onload=i.onreadystatechange=null)},i.onerror=function(){n(new Error("load "+t+" error")),i.onerror=null},i.src=t,document.getElementsByTagName("head")[0].appendChild(i)})}function n(){return new o.default(function(e,n){setTimeout(function(){n(new Error("load "+t+" timeout"))},5e3)})}return o.default.race([e(),n()])}Object.defineProperty(e,"__esModule",{value:!0});var a=n(134),o=i(a);e.loadScript=s},200:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(125),a=i(s),o=n(466),r=i(o),c=n(457),l=i(c),u=n(458),d=i(u),f=n(455),p=i(f),m=n(456),h=i(m),g=n(459),v=i(g);a.default.use(r.default);var w=new r.default({mode:"history",scrollBehavior:function(){return{y:0}},routes:[{path:"/webapp/pages/settings/",name:"index",component:l.default},{path:"/webapp/pages/settings/law",name:"law",component:d.default},{path:"/webapp/pages/settings/help",name:"help",component:p.default},{path:"/webapp/pages/settings/identify",name:"identify",component:h.default},{path:"/webapp/pages/settings/password",name:"password",component:v.default}]});e.default=w},201:function(t,e){"use strict"},202:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(51),a=n(132),o=i(a);e.default={name:"help-page",created:function(){(0,s.pageReload)(),document.title="用户指南"},data:function(){return{link:[{title:"快车",href:"//static.udache.com/gulfstream/webapp/pages/gulfstream-flier-guide.html"},{title:"专车",href:"//static.udache.com/gulfstream/webapp/pages/gulfstream-menu-setting.html"},{title:"出租车",href:"//static.diditaxi.com.cn/webapp/pages/didi-pasger-manual.html"},{title:"代驾",href:"//page.kuaidadi.com/m/djpinfolist.html"},{title:"小巴",href:"//api.sofa.diditaxi.com.cn/h5/passenger/introduction/dist/index.html"},{title:"顺风车",href:"//static.didialift.com/didialift/hybrid/pages/help/help-homePage.html"},{title:"租车",href:"//api-hailang.xiaojukeji.com/web-h5/resourceWeb/new-h5/passenger-faq.html"},{title:"公交",href:"//static.galileo.xiaojukeji.com/static/tms/galileo/bus-guide.html"}]}},computed:{newLinkList:function(){var t=(0,s.urlParse)(),e=window.parseInt(t.channel)||0;return this.link=this.link.filter(function(t){return e===o.default.WECHAT||e===o.default.ALIPAY||(e===o.default.QQ?"代驾"!==t.title&&"小巴"!==t.title:"出租车"===t.title||"专车"===t.title||"快车"===t.title)}),this.link.map(function(e){var n=e.title,i=e.href;return i="快车"===n||"专车"===n?i+"?version=5.0.6&area="+t.city+"&city_id="+t.cityid:"出租车"===n?i+"?datatype=webapp&t="+(0,s.nowTime)():i+"?t="+(0,s.nowTime)(),e.href=i,e})}}}},203:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(215),a=i(s),o=n(51),r=n(85),c=i(r),l=n(86),u=n(177),d=i(u),f=1,p="7";e.default={name:"identify-page",data:function(){return{smscode:d.default.session.get("smscode")||"",phone:(0,o.urlParse)().phone,txt:"",smsCodeTips:d.default.session.get("smscode")?"重新发送":"获取验证码",waitingFlag:!1,type:"warn"}},created:function(){(0,o.pageReload)(),document.title="安全认证"},methods:{getSmsCode:function(){var t=this;(0,l.commonLogin)().then(function(e){var n=e.cell,i=e.ticket;if(i){if(Omega.trackEvent("setcode_vcodeget_ck"),t.waitingFlag)return;t.waitingFlag=!0,c.default.passport("/passport/login/smsget",{cell:n,role:f,scene:p,ticket:i},function(e,n){if(e)t.type="warn",t.txt=n.errmsg,t.$refs.myToast.show(),t.waitingFlag=!1;else{t.$refs.myToast.hide(),t.type="warn",t.txt="验证码已发送",t.$refs.myToast.show();var i=60;t.smsCodeTips=i+"秒后重发";var s=setInterval(function(){t.smsCodeTips=--i+"秒后重发",0===i&&(clearInterval(s),t.smsCodeTips="重新发送",t.waitingFlag=!1)},1e3)}})}}).catch(function(e){t.waitingFlag=!1})},checkSmsCode:function(){var t=this;Omega.trackEvent("setcode_vcodenext_ck"),this.type="loading",this.txt="请稍后",this.$refs.myToast.show(),(0,l.commonLogin)().then(function(e){var n=e.cell,i=e.ticket;c.default.passport("/passport/login/v3/smsVerify",{cell:n,role:f,scene:p,code:t.smscode,ticket:i},function(e,n){e?(t.txt=n.errmsg,t.type="warn",t.$refs.myToast.show(),t.smscode=""):(t.$refs.myToast.hide(),d.default.session.set("smscode",t.smscode),(0,o.jump)("/webapp/pages/settings/password",(0,a.default)({},(0,o.urlParse)()),!0))})})}},computed:{phoneNum:function(){return(0,o.transferPhoneNum)(this.phone)}},beforeRouteLeave:function(t,e,n){"index"===t.name&&d.default.session.remove("smscode"),n()}}},204:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(133),a=i(s),o=n(210),r=i(o),c=n(51),l=n(86),u=n(85),d=i(u),f={0:"未认证",1:"审核中",2:"已认证",3:"认证失败"};e.default={name:"index-page",data:function(){return{linkList:[{title:"实名认证",name:"realName",eventName:"set_realname_ck",status:{auth_desc:null,auth_state:null},path:"/webapp/pages/authentication"},{title:"密码设置",name:"identify",eventName:"set_setcode_ck",status:"",path:"/identify"},{title:"用户指南",name:"help",eventName:"set_uguide_ck",status:"",path:"/help"},{title:"法律条款",name:"law",eventName:"set_legal_ck",status:"",path:"/law"}]}},created:function(){var t=this;(0,c.pageReload)(),document.title="设置",d.default.userInfo("/uic/v1/extern/auth",{token:(0,c.urlParse)().token,source:203,params:"auth_desc"},function(e,n){if(!e){var i=(0,r.default)(n.info)[0],s=n.info[i];t.linkList[0].status.auth_state=s.auth_state,t.linkList[0].status.auth_desc=f[s.auth_state]}})},methods:{hrefTo:function(t){var e=(0,a.default)({},(0,c.urlParse)());return Omega.trackEvent(t.eventName),"实名认证"===t.title?(e.source=203,(0,c.jump)(t.path,e,!0)):void(0,c.jump)("/webapp/pages/settings"+t.path,e,!0)},logout:function(){Omega.trackEvent("set_exit_ck"),Omega.trackEvent("exit_pptab_sw"),this.$refs.dialog.show()},dialogConfirm:function(){Omega.trackEvent("exit_ppok_ck"),(0,l.isLogin)().then(function(t){t.login&&window.login.logout(function(){(0,c.jump)("//common.diditaxi.com.cn/general/webEntry")})}).catch(function(t){console.log(t)})}}}},205:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(51),a=n(132),o=i(a);e.default={name:"law-page",created:function(){(0,s.pageReload)(),document.title="法律条款"},data:function(){return{linkList:[{title:"软件使用协议及隐私政策",href:"//static.galileo.xiaojukeji.com/static/tms/didi-service-items.html"},{title:"出租车用户协议",href:"//static.diditaxi.com.cn/webapp/pages/didi-taxi-pasger-protocol.html"},{title:"专快车服务协议",href:"//static.udache.com/gulfstream/webapp/pages/use-items.html"},{title:"顺风车服务协议",href:"//static.didialift.com/didialift/hybrid/pages/protocol/client.html"},{title:"代驾服务第三方协议",href:"//page.kuaidadi.com/m/djpxieyi.html"}]}},computed:{newLinkList:function(){var t=window.parseInt((0,s.urlParse)().channel)||0;return this.linkList=this.linkList.filter(function(e){return t===o.default.WECHAT||t===o.default.ALIPAY||(t===o.default.QQ?"代驾服务第三方协议"!==e.title:"顺风车服务协议"!==e.title&&"代驾服务第三方协议"!==e.title)}),this.linkList.map(function(t){return t.href=t.href+"?t="+(0,s.nowTime)(),t})}},methods:{jump:function(t){window.location.href=t.href}}}},206:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(51),a=n(85),o=i(a),r=n(86),c=n(177),l=i(c),u=n(198),d={0:"密码不能包含空格",1:"密码不能全是数字",2:"密码不能全是一样的数字或字母",3:"密码只能是数字或字母等字符"},f=1,p="7";e.default={name:"password-page",created:function(){document.title="设置登录密码"},data:function(){return{canSee:!0,password:"",errTips:"",confirmContent:"",type:"warn"}},methods:{submit:function(){var t=this;Omega.trackEvent("setcode_codeok_ck"),this.type="loading",this.errTips="请稍后",this.$refs.toast.show(),d[(0,s.passwordIsIllegal)(this.password)]?(this.type="warn",this.errTips=d[(0,s.passwordIsIllegal)(this.password)],this.$refs.toast.show()):(0,r.commonLogin)().then(function(e){var n=e.cell,i=e.ticket;i&&o.default.passport("/passport/login/v3/setpassword",{cell:n,role:f,scene:p,code:l.default.session.get("smscode"),password:t.password,ticket:i},function(e,n){t.$refs.toast.hide(),e?(t.type="warn",t.errTips=n.errmsg,t.$refs.toast.show()):t.$refs.dialog.show()})})},dialogConfirm:function(){var t=u.isIOS&&u.isWechat?-(window.history.length-2):-2;this.$router.go(t),l.default.session.remove("smscode")}}}},440:function(t,e){},441:function(t,e){},442:function(t,e){},443:function(t,e){},444:function(t,e){},445:function(t,e){},446:function(t,e){},447:function(t,e){},454:function(t,e,n){n(447);var i=n(60)(n(201),n(465),null,null);t.exports=i.exports},455:function(t,e,n){n(446);var i=n(60)(n(202),n(464),null,null);t.exports=i.exports},456:function(t,e,n){n(442);var i=n(60)(n(203),n(460),null,null);t.exports=i.exports},457:function(t,e,n){n(445);var i=n(60)(n(204),n(463),null,null);t.exports=i.exports},458:function(t,e,n){n(444);var i=n(60)(n(205),n(462),null,null);t.exports=i.exports},459:function(t,e,n){n(443);var i=n(60)(n(206),n(461),null,null);t.exports=i.exports},460:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"identify-page"},[n("p",{staticClass:"page-title"},[t._v("设置密码需要验证您的手机号"+t._s(t.phoneNum))]),t._v(" "),n("div",{staticClass:"page-input"},[n("p",{staticClass:"title"},[t._v("验证码")]),t._v(" "),n("div",{staticClass:"input-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.smscode,expression:"smscode"}],attrs:{type:"tel",maxlength:"4",placeholder:"请输入验证码"},domProps:{value:t._s(t.smscode)},on:{input:function(e){e.target.composing||(t.smscode=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"smscode-box"},[n("mf-button",{attrs:{inline:!0,grewBorder:!0},on:{click:t.getSmsCode}},[t._v(t._s(t.smsCodeTips))])],1)]),t._v(" "),n("div",{staticClass:"submit-btn"},[n("mf-button",{attrs:{type:"submit",disabled:4!==t.smscode.length},on:{click:t.checkSmsCode}},[t._v("下一步")])],1),t._v(" "),n("mf-toast",{ref:"myToast",attrs:{type:t.type,txt:t.txt,time:1500}})],1)},staticRenderFns:[]}},461:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"password-page"},[n("p",{staticClass:"page-title"},[t._v("\n    密码由6-16位英文字母，数字或字符组成\n  ")]),t._v(" "),n("div",{staticClass:"page-input"},[n("p",{staticClass:"title"},[t._v("设置密码")]),t._v(" "),n("div",{staticClass:"input-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"},{name:"show",rawName:"v-show",value:t.canSee,expression:"canSee"}],attrs:{type:"text",autocomplete:"off",placeholder:"请输入6-16位密码",maxlength:"16"},domProps:{value:t._s(t.password)},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"},{name:"show",rawName:"v-show",value:!t.canSee,expression:"!canSee"}],attrs:{type:"password",autocomplete:"new-password",placeholder:"请输入6-16位密码",maxlength:"16"},domProps:{value:t._s(t.password)},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.password.length>0,expression:"password.length > 0"}],staticClass:"icon",on:{click:function(e){t.canSee=!t.canSee}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.canSee,expression:"canSee"}],staticClass:"mfic-cansee"}),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:!t.canSee,expression:"!canSee"}],staticClass:"mfic-cantsee"})])]),t._v(" "),n("div",{staticClass:"submit-btn"},[n("mf-button",{attrs:{type:"submit",disabled:!(t.password.length>=6)},on:{click:t.submit}},[t._v("确认")])],1),t._v(" "),n("mf-dialog",{ref:"dialog",attrs:{icon:"mfic-simple-correct",title:"设置成功","confirm-btn-content":"我知道了"},on:{confirm:t.dialogConfirm}}),t._v(" "),n("mf-toast",{ref:"toast",attrs:{type:t.type,time:1500,txt:t.errTips}})],1)},staticRenderFns:[]}},462:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"law-page"},[n("ul",{staticClass:"list-ul"},t._l(t.newLinkList,function(e){return n("li",{staticClass:"list-li border-bottom-1px"},[n("div",{staticClass:"item",on:{click:function(n){t.jump(e)}}},[n("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),n("i",{staticClass:"mfic-click"})])])}))])},staticRenderFns:[]}},463:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"index-page"},[n("ul",{staticClass:"list-ul"},t._l(t.linkList,function(e,i){return n("li",{staticClass:"list-li border-bottom-1px"},[n("div",{staticClass:"item",on:{click:function(n){t.hrefTo(e)}}},[n("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),t._v(" "),"实名认证"===e.title?n("p",{staticClass:"item-status",class:{"state-highlight":0==e.status.auth_state||3==e.status.auth_state}},[t._v(t._s(e.status.auth_desc))]):t._e(),t._v(" "),n("i",{staticClass:"mfic-click"})])])})),t._v(" "),n("mf-button",{staticClass:"logout",attrs:{white:!0},on:{click:t.logout}},[t._v("退出登录")]),t._v(" "),n("mf-dialog",{ref:"dialog",attrs:{title:"确定要退出吗?",icon:"mfic-gantanhao",type:"confirm","cancel-btn-content":"取消","confirm-btn-content":"确定"},on:{confirm:t.dialogConfirm}})],1)},staticRenderFns:[]}},464:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"help-page"},[n("ul",{staticClass:"list-ul"},t._l(t.newLinkList,function(e){return n("li",{staticClass:"list-li border-bottom-1px"},[n("a",{staticClass:"item",attrs:{href:e.href}},[n("p",{staticClass:"item-title"},[t._v(t._s(e.title))]),n("i",{staticClass:"mfic-click"})])])}))])},staticRenderFns:[]}},465:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app",attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}}});